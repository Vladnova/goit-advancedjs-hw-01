{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst FORM_DATA_KEY = 'feedback-form-state';\nconst { email, message } = form.elements;\nconst localStorGet = localStorage.getItem(FORM_DATA_KEY);\n\nform.addEventListener('input', throttle(handlerInput, 500));\nform.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n\n  const data = {};\n  const formData = new FormData(e.currentTarget);\n\n  formData.forEach((value, name) => {\n    data[name] = value;\n  });\n\n  if (data.email === '' || data.message === '') {\n    return alert(\n      'To send the form, you must fill in all fields. Please fill them out'\n    );\n  }\n  console.log(data);\n  form.reset();\n  localStorage.removeItem(FORM_DATA_KEY);\n}\n\nfunction handlerInput(e) {\n  const dataSubmit = { email: email.value, message: message.value };\n  localStorage.setItem(FORM_DATA_KEY, JSON.stringify(dataSubmit));\n}\n\nif (localStorGet) {\n  const dataInLocalStore = JSON.parse(localStorGet);\n  email.value = dataInLocalStore.email;\n  message.value = dataInLocalStore.message;\n}\n"],"names":["form","FORM_DATA_KEY","email","message","localStorGet","throttle","handlerInput","handlerSubmit","data","value","name","dataSubmit","dataInLocalStore"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAgB,sBAChB,CAAE,MAAAC,EAAO,QAAAC,GAAYH,EAAK,SAC1BI,EAAe,aAAa,QAAQH,CAAa,EAEvDD,EAAK,iBAAiB,QAASK,EAASC,EAAc,GAAG,CAAC,EAC1DN,EAAK,iBAAiB,SAAUO,CAAa,EAE7C,SAASA,EAAc,EAAG,CACxB,EAAE,eAAc,EAEhB,MAAMC,EAAO,CAAA,EAOb,GANiB,IAAI,SAAS,EAAE,aAAa,EAEpC,QAAQ,CAACC,EAAOC,IAAS,CAChCF,EAAKE,GAAQD,CACjB,CAAG,EAEGD,EAAK,QAAU,IAAMA,EAAK,UAAY,GACxC,OAAO,MACL,qEACN,EAEE,QAAQ,IAAIA,CAAI,EAChBR,EAAK,MAAK,EACV,aAAa,WAAWC,CAAa,CACvC,CAEA,SAASK,EAAa,EAAG,CACvB,MAAMK,EAAa,CAAE,MAAOT,EAAM,MAAO,QAASC,EAAQ,OAC1D,aAAa,QAAQF,EAAe,KAAK,UAAUU,CAAU,CAAC,CAChE,CAEA,GAAIP,EAAc,CAChB,MAAMQ,EAAmB,KAAK,MAAMR,CAAY,EAChDF,EAAM,MAAQU,EAAiB,MAC/BT,EAAQ,MAAQS,EAAiB,OACnC"}